<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Collapsible procedural generation"><title>grid_forge::gen::collapse - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="grid_forge" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../../static.files/storage-3a5871a4.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../grid_forge/index.html">grid_<wbr>forge</a><span class="version">0.2.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module collapse</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#collapsible-procedural-generation" title="Collapsible procedural generation">Collapsible procedural generation</a><ul><li><a href="#main-distinction" title="Main distinction">Main distinction</a></li><li><a href="#struct-types" title="Struct types">Struct types</a></li></ul></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In grid_<wbr>forge::<wbr>gen</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">grid_forge</a>::<wbr><a href="../index.html">gen</a></div><h1>Module <span>collapse</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/grid_forge/gen/collapse/mod.rs.html#1-179">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="collapsible-procedural-generation"><a class="doc-anchor" href="#collapsible-procedural-generation">§</a>Collapsible procedural generation</h2>
<p>Algorithms contained within this module works by having a collection of tiles, which final identity is unknown in the beginning -
<em>every position can be any tile</em>. In the process of generating a new grid, algorithm will <em>collapse</em> possible options for position,
choosing randomly one of them. Collapsed tile will then put contraints over the remaining tiles, reducing the number of possible options.
Process will then continue until all tiles are collapsed into one possible option.</p>
<p>This process is called elsewhere most often <em>Model Synthesis</em> or <em>Wave Function Collapse</em>, though the distinction between the two is
not always clear. Implementation contained there can be tailored to specific needs for the generation process, which makes the line
even more blurry, so new name is used here.</p>
<h3 id="main-distinction"><a class="doc-anchor" href="#main-distinction">§</a>Main distinction</h3>
<p>Two main types of algorithms are provided in distinct submodules:</p>
<ul>
<li><a href="singular/index.html" title="mod grid_forge::gen::collapse::singular"><code>singular</code></a> - implementation that can be used to generate maps. Each tile type needs to be self-descriptive in
regards to its possible neighbours. Constraints for this type of generation is based strictly on possible neighbours for each given tile,
set of rules which can be described as: tile <code>X</code> can be placed in direction <code>D</code> of tile <code>Y</code>.</li>
<li><a href="overlap/index.html" title="mod grid_forge::gen::collapse::overlap"><code>overlap</code></a> - implementation that can be used to generate maps based on observed patterns. Direct possible adjacents of each tile are
less important there, the pattern context is more important. First step for this type of generation is to create a collection of patterns
from sample gridmaps, which then will be tested for possible neigbours. During the process the possible patterns will then be collapsed
instead of individual tiles.</li>
</ul>
<h3 id="struct-types"><a class="doc-anchor" href="#struct-types">§</a>Struct types</h3>
<p>Structs contained in submodules mentioned above are categorized in analogous way, with some additional distinctions described further
in documentation for concrete struct.</p>
<ul>
<li><em>adjacency rules</em> are the rules that are used to determine possible neighbours for each tile.</li>
<li><em>frequency hints</em> can be described as a weights per option - they can be derived from sample gridmaps and are a way to influence the
frequency of options occuring in the generated grid.</li>
<li><em>analyzers</em> provide methods for analyzing sample gridmaps and creating rulesets out of them.</li>
<li><em>collapsible grids</em> are the source of information for the <em>resolvers</em>, from the collection of collapsible tiles to the prepared
adjacency rules and frequency hints. They can also contain some pre-collapsed tiles, providing initial constraints for the generation.</li>
<li><em>resolvers</em> are the main executors of the algorithm and are responsible for collapsing the tiles in the <em>collapsible grids</em>.</li>
<li><em>queues</em> are used to determine the order in which tiles are collapsed: <a href="struct.PositionQueue.html" title="struct grid_forge::gen::collapse::PositionQueue"><code>PositionQueue</code></a> takes next position to collapse in a fixed
order, while <a href="struct.EntrophyQueue.html" title="struct grid_forge::gen::collapse::EntrophyQueue"><code>EntrophyQueue</code></a> fetch the next position to collapse with the lowest entrophy.</li>
</ul>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="overlap/index.html" title="mod grid_forge::gen::collapse::overlap">overlap</a></dt><dd>Overlapping collapsible generation</dd><dt><a class="mod" href="singular/index.html" title="mod grid_forge::gen::collapse::singular">singular</a></dt><dd>Singular collapsible generation</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.CollapseError.html" title="struct grid_forge::gen::collapse::CollapseError">Collapse<wbr>Error</a></dt><dd>Error occuring during collapse process.</dd><dt><a class="struct" href="struct.CollapsedGrid.html" title="struct grid_forge::gen::collapse::CollapsedGrid">Collapsed<wbr>Grid</a></dt><dd><a href="../../struct.GridMap2D.html" title="struct grid_forge::GridMap2D"><code>GridMap2D</code></a> containing data of <a href="struct.CollapsedTileData.html" title="struct grid_forge::gen::collapse::CollapsedTileData"><code>CollapsedTileData</code></a>.</dd><dt><a class="struct" href="struct.CollapsedTileData.html" title="struct grid_forge::gen::collapse::CollapsedTileData">Collapsed<wbr>Tile<wbr>Data</a></dt><dd>Simple <a href="../../trait.TileData.html" title="trait grid_forge::TileData"><code>TileData</code></a> containing only the <code>tile_type_id</code>.</dd><dt><a class="struct" href="struct.DebugSubscriber.html" title="struct grid_forge::gen::collapse::DebugSubscriber">Debug<wbr>Subscriber</a></dt><dd>Basic Subscriber for debugging purposes.</dd><dt><a class="struct" href="struct.EntrophyQueue.html" title="struct grid_forge::gen::collapse::EntrophyQueue">Entrophy<wbr>Queue</a></dt><dd>Select next position to collapse using smallest entrophy condition.</dd><dt><a class="struct" href="struct.PositionQueue.html" title="struct grid_forge::gen::collapse::PositionQueue">Position<wbr>Queue</a></dt><dd>A queue that collapses tiles consecutively in a fixed direction, based solely on their position.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.PositionQueueDirection.html" title="enum grid_forge::gen::collapse::PositionQueueDirection">Position<wbr>Queue<wbr>Direction</a></dt><dd>Enum defining the direction in which the tiles will be collapsed.</dd><dt><a class="enum" href="enum.PositionQueueStartingPoint.html" title="enum grid_forge::gen::collapse::PositionQueueStartingPoint">Position<wbr>Queue<wbr>Starting<wbr>Point</a></dt><dd>Enum defining the starting point of the collapse wave.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.CollapseQueue.html" title="trait grid_forge::gen::collapse::CollapseQueue">Collapse<wbr>Queue</a></dt><dd>Trait shared by objects that handle the selecting algorithm for next tile to collapse within collapse resolvers.</dd><dt><a class="trait" href="trait.CollapsibleGrid.html" title="trait grid_forge::gen::collapse::CollapsibleGrid">Collapsible<wbr>Grid</a></dt><dd>Trait shared by a structs holding a grid of <a href="trait.CollapsibleTileData.html" title="trait grid_forge::gen::collapse::CollapsibleTileData"><code>CollapsibleTileData</code></a>, useable by dedicated resolvers to collapse
the grid.</dd><dt><a class="trait" href="trait.CollapsibleTileData.html" title="trait grid_forge::gen::collapse::CollapsibleTileData">Collapsible<wbr>Tile<wbr>Data</a></dt><dd>Trait shared by <a href="../../trait.TileData.html" title="trait grid_forge::TileData"><code>TileData</code></a> used within collapsible generative algorithms.</dd></dl></section></div></main></body></html>